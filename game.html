<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Tic-Tac-Toe | Game</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/game.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Orbitron:wght@500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="game-container">
        <!-- Game Header -->
        <header class="game-header">
            <div class="game-title">
                <a href="index.html" class="btn-back">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <h1>Ultimate <span>Tic-Tac-Toe</span></h1>
            </div>
            <div class="game-controls">
                <button class="btn-new-game" id="newGameBtn">
                    <i class="fas fa-redo"></i> New Game
                </button>
                <button class="btn-settings" id="gameSettingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="btn-theme" id="gameThemeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- Game Info -->
        <div class="game-info">
            <div class="player-info player-x">
                <div class="player-icon">
                    <i class="fas fa-times"></i>
                </div>
                <div class="player-details">
                    <h3 id="playerXName">Player 1</h3>
                    <p class="player-status">Your Turn</p>
                </div>
            </div>

            <div class="game-status">
                <div class="current-turn">
                    <span class="turn-indicator x-turn">
                        <i class="fas fa-times"></i>
                    </span>
                    <p>Turn: <span id="currentPlayer">Player 1</span></p>
                </div>
                <div class="next-board">
                    <p>Next Board: <span id="nextBoardIndicator">Any</span></p>
                </div>
            </div>

            <div class="player-info player-o">
                <div class="player-icon">
                    <i class="fas fa-circle"></i>
                </div>
                <div class="player-details">
                    <h3 id="playerOName">Player 2</h3>
                    <p class="player-status">Waiting</p>
                </div>
            </div>
        </div>

        <!-- Main Game Board -->
        <div class="ultimate-board-container">
            <div class="ultimate-board" id="ultimateBoard">
                <!-- 9 small boards will be generated by JavaScript -->
            </div>
        </div>

        <!-- Game Sidebar -->
        <div class="game-sidebar">
            <div class="sidebar-section">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> Move History</h3>
                    <button class="btn-toggle-history" id="toggleHistoryBtn" title="Expand/Collapse">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <div class="move-history" id="moveHistory">
                    <!-- Move history will be populated by JavaScript -->
                </div>
                <button class="btn-clear-history" id="clearHistoryBtn">
                    <i class="fas fa-trash"></i> Clear History
                </button>
            </div>

            <div class="sidebar-section">
                <h3><i class="fas fa-trophy"></i> Small Boards Won</h3>
                <div class="small-boards-won">
                    <div class="won-boards">
                        <h4>Player 1 (X)</h4>
                        <div class="won-board-list" id="xWonBoards">
                            <!-- X won boards will be added here -->
                        </div>
                    </div>
                    <div class="won-boards">
                        <h4>Player 2 (O)</h4>
                        <div class="won-board-list" id="oWonBoards">
                            <!-- O won boards will be added here -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3><i class="fas fa-robot"></i> AI Status</h3>
                <div class="ai-status" id="aiStatus">
                    <p>AI: <span id="aiNameDisplay">AI Agent</span></p>
                    <p>Difficulty: <span id="aiDifficulty">Medium</span></p>
                    <p>Thinking: <span id="aiThinking">No</span></p>
                </div>
                <div class="ai-controls" id="aiControls">
                    <button class="btn-ai-hint" id="aiHintBtn">
                        <i class="fas fa-lightbulb"></i> Get Hint
                    </button>
                    <button class="btn-ai-move" id="aiMoveBtn">
                        <i class="fas fa-robot"></i> AI Move
                    </button>
                </div>
            </div>
        </div>

        <!-- Game Footer -->
        <div class="game-footer">
            <div class="game-timer">
                <i class="fas fa-clock"></i>
                <span>Time: <span id="gameTimer">00:00</span></span>
            </div>
            <div class="game-moves">
                <i class="fas fa-step-forward"></i>
                <span>Moves: <span id="moveCount">0</span></span>
            </div>
            <div class="game-mode-display">
                <i class="fas fa-gamepad"></i>
                <span>Mode: <span id="gameModeDisplay">Player vs AI</span></span>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="gameOverModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-flag-checkered"></i> Game Over</h2>
                <button class="btn-close-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="game-result" id="gameResult">
                    <!-- Game result will be populated by JavaScript -->
                </div>
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-label">Winner</span>
                        <span class="stat-value" id="winnerName">-</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Moves</span>
                        <span class="stat-value" id="totalMoves">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Time</span>
                        <span class="stat-value" id="totalTime">00:00</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Mode</span>
                        <span class="stat-value" id="finalGameMode">-</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-play-again" id="playAgainBtn">
                    <i class="fas fa-redo"></i> Play Again
                </button>
                <button class="btn-go-home" id="goHomeBtn">
                    <i class="fas fa-home"></i> Back to Home
                </button>
            </div>
        </div>
    </div>

    <!-- Game Settings Modal -->
    <div class="modal" id="gameSettingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Game Settings</h2>
                <button class="btn-close-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <h3><i class="fas fa-user"></i> Player Names</h3>
                    <div class="input-group">
                        <label for="gamePlayer1Name">Player 1 (X)</label>
                        <input type="text" id="gamePlayer1Name" value="Player 1">
                    </div>
                    <div class="input-group">
                        <label for="gamePlayer2Name">Player 2 (O)</label>
                        <input type="text" id="gamePlayer2Name" value="Player 2">
                    </div>
                    <div class="input-group" id="gameAiNameGroup">
                        <label for="gameAiName">AI Name</label>
                        <input type="text" id="gameAiName" value="AI Agent">
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-brain"></i> AI Difficulty</h3>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn active" data-level="easy">Easy</button>
                        <button class="difficulty-btn" data-level="medium">Medium</button>
                        <button class="difficulty-btn" data-level="hard">Hard</button>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-eye"></i> Display Options</h3>
                    <div class="toggle-group">
                        <div class="toggle-option">
                            <span>Highlight valid moves</span>
                            <label class="switch">
                                <input type="checkbox" id="gameHighlightMoves" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="toggle-option">
                            <span>Show move hints</span>
                            <label class="switch">
                                <input type="checkbox" id="gameShowHints">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="toggle-option">
                            <span>Animation effects</span>
                            <label class="switch">
                                <input type="checkbox" id="gameAnimations" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-save" id="saveGameSettings">
                    Save Settings
                </button>
                <button class="btn-cancel" id="cancelGameSettings">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script src="scripts/game.js"></script>
    <script src="scripts/ai.js"></script>
</body>

</html>